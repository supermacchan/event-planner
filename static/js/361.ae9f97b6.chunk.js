"use strict";(self.webpackChunkevent_planner=self.webpackChunkevent_planner||[]).push([[361],{5450:function(e,t,n){n.d(t,{x:function(){return l}});var a=n(7689),r=n(1087),i=n(8820),c="BackButton_button__5Jmp+",s=n(184),l=function(){var e,t,n=(0,a.TH)();return(0,s.jsx)(r.rU,{to:null!==(e=null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",style:{width:65},children:(0,s.jsxs)("button",{className:c,type:"button",children:[(0,s.jsx)(i.kyg,{style:{width:18,height:18}}),"Back"]})})}},3443:function(e,t,n){n.d(t,{$:function(){return pe}});var a=n(4165),r=n(5861),i=n(9439),c=n(2791),s=n(7689),l=n(9434),o=n(2526),u=n(6856),d="EventForm_form__Pbmxn",h="EventForm_container__HcrhB",m="EventForm_label__idUCC",p="EventForm_input__ZgyEU",f="EventForm_textarea__ecIcj",_="EventForm_enabled__06qEc",v="EventForm_inputBtn__H+S8h",x="EventForm_disabled__PQNMo",g="EventForm_fakeInput__Q0qKq",y="EventForm_button__Q2j1k",j="EventForm_calendar__xOj4l",b="EventForm_fakePlaceholder__X7Vc6",k="EventForm_popUp__jievN",C="EventForm_popUpOption__8xieo",N=n(184),S=function(e){var t=e.title,n=e.handleInputChange,a=e.reset;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"title",children:"Title"}),(0,N.jsx)("input",{className:p,type:"text",id:"title",name:"title",pattern:"[A-Z][A-Za-z0-9 ]*",value:t,onChange:n}),(0,N.jsx)("button",{type:"button",className:v,onClick:a,children:(0,N.jsx)(u.FU5,{style:{width:18,height:18}})})]})},w=function(e){var t=e.description,n=e.handleInputChange,a=e.reset;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"description",children:"Description"}),(0,N.jsx)("textarea",{className:f,type:"text",id:"description",name:"description",value:t,onChange:n}),(0,N.jsx)("button",{type:"button",className:v,onClick:a,children:(0,N.jsx)(u.FU5,{style:{width:18,height:18}})})]})},E=n(690),P=n(6334),T="DatePicker_actions__9ZNx4",Z="DatePicker_cancelBtn__nvu1H",D="DatePicker_selectBtn__9VnMV",F="DatePicker_caption__qHrJR",I="DatePicker_month__+Dx09",A="DatePicker_nav__dLCUU",B="DatePicker_navBtn__WNL1j",L="DatePicker_navIcon__iVv8h",M="DatePicker_table__Uy1v8",U="DatePicker_head__UkOFk",q="DatePicker_dayOfWeek__6g7hy",H="DatePicker_row__zta8U",V="DatePicker_cell__dKVtw",W="DatePicker_calendarDay__Mu8Cf",z="DatePicker_today__g1WFp",J="DatePicker_selected__dY7t8",O=function(e){return(0,P.Z)(e,"EEE")},Q=function(e){var t=e.startDate,n=e.onSelect,a=e.onClose,r=e.onSave,i=(e.onDayClick,{caption:F,caption_label:I,nav:A,nav_button:B,nav_icon:L,table:M,head:U,head_cell:q,row:H,cell:V,day:W,day_today:z,day_selected:J});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(E._W,{selected:t,mode:"single",onSelect:n,classNames:i,formatters:{formatWeekdayName:O}}),(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)("button",{type:"button",className:Z,onClick:a,children:"Cancel"}),(0,N.jsx)("button",{type:"button",className:D,onClick:r,children:"Choose date"})]})]})},R=function(e){var t=e.date,n=e.handleInputChange,a=e.showDatePicker,r=e.toggleMenu,s=e.handleSaveDate,l=(0,c.useState)(new Date),o=(0,i.Z)(l,2),d=o[0],h=o[1];return(0,N.jsxs)("div",{className:_,style:{position:"relative"},children:[(0,N.jsx)("label",{className:m,htmlFor:"date",children:"Select date"}),(0,N.jsx)("input",{className:p,type:"text",id:"date",name:"date",placeholder:"Select date",value:t,onChange:n,onClick:function(){return r("date")},style:{caretColor:"transparent"}}),(0,N.jsx)("button",{type:"button",className:v,style:{width:"95%",justifyContent:"right"},onClick:function(){return r("date")},children:a?(0,N.jsx)(u.rWj,{style:{width:24,height:24}}):(0,N.jsx)(u.Ix0,{style:{width:24,height:24}})}),a&&(0,N.jsx)("div",{className:j,children:(0,N.jsx)(Q,{startDate:d,onSelect:function(e){h(e)},onClose:function(){return r("date")},onSave:function(){return s(d)}})})]})},Y=["01","02","03","04","05","06","07","08","09","10","11","12"],K=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],X="TimePicker_container__UAESn",G="TimePicker_timeOptions__YzzJb",$="TimePicker_timeButton__fVgmv",ee="TimePicker_divider__qHNwH",te="TimePicker_ampm__zDE5l",ne="TimePicker_ampmButton__kOjPR",ae="TimePicker_selected__TQtxG",re=function(e){var t=e.initialTime,n=e.saveTime,a=(0,c.useState)("01"),r=(0,i.Z)(a,2),s=r[0],l=r[1],o=(0,c.useState)("00"),u=(0,i.Z)(o,2),d=u[0],h=u[1],m=(0,c.useState)("am"),p=(0,i.Z)(m,2),f=p[0],_=p[1],v=(0,c.useState)("01"),x=(0,i.Z)(v,2),g=x[0],y=x[1],j=(0,c.useState)("00"),b=(0,i.Z)(j,2),k=b[0],C=b[1],S=(0,c.useState)("am"),w=(0,i.Z)(S,2),E=w[0],P=w[1],T=null,Z=null;(0,c.useEffect)((function(){var e=document.getElementById("time-picker").querySelectorAll(".time-picker-column");return e.forEach((function(e){e.addEventListener("scroll",F),e.querySelectorAll(".time-picker-button").forEach((function(t){switch(e.id){case"hours":t.innerText===s?t.classList.add(ae):t.classList.remove(ae);break;case"minutes":t.innerText===d?t.classList.add(ae):t.classList.remove(ae);break;case"ampm":t.innerText===f?t.classList.add(ae):t.classList.remove(ae)}}))})),function(){e.forEach((function(e){return e.removeEventListener("scroll",F)}))}}),[]),(0,c.useEffect)((function(){return function(){n(g,k,E)}}),[g,k,E,n]),(0,c.useEffect)((function(){if(t){console.log(t);var e=t.split(" "),n=(0,i.Z)(e,2),a=n[0],r=n[1],c=a.split(":"),s=(0,i.Z)(c,2),o=s[0],u=s[1];l(o),h(u),_(r)}}),[t]);var D=function(e,t,n){e.forEach((function(e){var a=e.getBoundingClientRect().top-t,r=a+e.clientHeight;if(a<=n&&r>=n)switch(e.classList.add(ae),T=e,Z.id){case"hours":y(T.innerText);break;case"minutes":C(T.innerText);break;case"ampm":P(T.innerText)}else e.classList.remove(ae)}))},F=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){n=null,e.apply(void 0,r)}),t)}}((function(e){Z=e.target;var t=document.getElementById("time-picker"),n=t.clientHeight,a=t.getBoundingClientRect().top,r=n/2,i=Z.querySelectorAll(".time-picker-button");if(D(i,a,r),T){var c=T.getBoundingClientRect().top-a-r+T.clientHeight/2;Z.scrollTop+=c}}),100);return(0,N.jsxs)("div",{id:"time-picker",className:X,children:[(0,N.jsx)("ul",{className:"".concat(G," time-picker-column"),id:"hours",children:Y.map((function(e){return(0,N.jsx)("li",{children:(0,N.jsx)("button",{type:"button",className:"".concat($," time-picker-button"),children:e})},e)}))}),(0,N.jsx)("span",{className:ee,children:":"}),(0,N.jsx)("ul",{className:"".concat(G," time-picker-column"),id:"minutes",children:K.map((function(e){return(0,N.jsx)("li",{children:(0,N.jsx)("button",{type:"button",className:"".concat($," time-picker-button"),children:e})},e)}))}),(0,N.jsxs)("ul",{className:"".concat(te," time-picker-column"),id:"ampm",children:[(0,N.jsx)("li",{children:(0,N.jsx)("button",{type:"button",className:"".concat(ne," time-picker-button"),children:"AM"})}),(0,N.jsx)("li",{children:(0,N.jsx)("button",{type:"button",className:"".concat(ne," time-picker-button"),onClick:function(e){return P(e.target.innerText)},children:"PM"})})]})]})},ie=function(e){var t=e.time,n=e.handleInputChange,a=e.showTimePicker,r=e.toggleMenu,i=e.saveTime;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"time",children:"Select time"}),(0,N.jsx)("input",{className:p,type:"text",id:"time",name:"time",placeholder:"Select time",value:t,onChange:n,onClick:function(){return r("time")},style:{caretColor:"transparent"}}),(0,N.jsx)("button",{type:"button",className:v,style:{width:"95%",justifyContent:"right"},onClick:function(){return r("time")},children:a?(0,N.jsx)(u.rWj,{style:{width:24,height:24}}):(0,N.jsx)(u.Ix0,{style:{width:24,height:24}})}),a&&(0,N.jsx)(re,{initialTime:t,saveTime:i})]})},ce=function(e){var t=e.place,n=e.handleInputChange,a=e.reset;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"location",children:"Location"}),(0,N.jsx)("input",{className:p,type:"text",id:"location",name:"location",pattern:"[A-Z][A-Za-z ]*",value:t,onChange:n}),(0,N.jsx)("button",{type:"button",className:v,onClick:a,children:(0,N.jsx)(u.FU5,{style:{width:18,height:18}})})]})},se=n(5984),le=n(8131),oe=function(e){var t=e.category,n=e.handleInputChange,a=e.showCategories,r=e.toggleMenu,i=e.handleSelect;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"category",children:"Category"}),(0,N.jsx)("input",{className:p,type:"text",id:"category",name:"category",placeholder:"Select category",value:t,onChange:n,style:{caretColor:"transparent"}}),(0,N.jsx)("button",{type:"button",className:v,style:{width:"95%",justifyContent:"right"},onClick:function(){return r("category")},children:a?(0,N.jsx)(u.rWj,{style:{width:24,height:24}}):(0,N.jsx)(u.Ix0,{style:{width:24,height:24}})}),a&&(0,N.jsx)("ul",{className:k,children:le.bd.map((function(e){return(0,N.jsx)("button",{type:"button",className:C,onClick:function(e){return i("category",e)},children:e},(0,se.x0)())}))})]})},ue=function(e){var t=e.priority,n=e.handleInputChange,a=e.showPriorities,r=e.toggleMenu,i=e.handleSelect;return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("label",{className:m,htmlFor:"priority",children:"Priority"}),(0,N.jsx)("input",{className:p,type:"text",id:"priority",name:"priority",placeholder:"Select priority",value:t,onChange:n,style:{caretColor:"transparent"}}),(0,N.jsx)("button",{type:"button",className:v,style:{width:"95%",justifyContent:"right"},onClick:function(){return r("priority")},children:a?(0,N.jsx)(u.rWj,{style:{width:24,height:24}}):(0,N.jsx)(u.Ix0,{style:{width:24,height:24}})}),a&&(0,N.jsx)("ul",{className:k,children:le.tA.map((function(e){return(0,N.jsx)("button",{type:"button",className:C,onClick:function(e){return i("priority",e)},children:e},(0,se.x0)())}))})]})},de=function(){return(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("label",{className:m,htmlFor:"image",children:"Add picture"}),(0,N.jsx)("input",{className:p,type:"file",id:"image",name:"image",disabled:!0}),(0,N.jsx)("div",{className:g,children:(0,N.jsx)("span",{className:b,children:"Select image"})}),(0,N.jsx)("button",{type:"button",className:v,children:(0,N.jsx)(u.FU5,{style:{width:18,height:18}})})]})},he=n(1421),me=n(8174),pe=function(e){var t=e.event,n=(0,s.TH)(),u=(0,s.s0)(),m=(0,l.I0)(),p=(0,c.useState)(""),f=(0,i.Z)(p,2),_=f[0],v=f[1],x=(0,c.useState)(""),g=(0,i.Z)(x,2),j=g[0],b=g[1],k=(0,c.useState)(""),C=(0,i.Z)(k,2),E=C[0],P=C[1],T=(0,c.useState)(""),Z=(0,i.Z)(T,2),D=Z[0],F=Z[1],I=(0,c.useState)(""),A=(0,i.Z)(I,2),B=A[0],L=A[1],M=(0,c.useState)(""),U=(0,i.Z)(M,2),q=U[0],H=U[1],V=(0,c.useState)(""),W=(0,i.Z)(V,2),z=W[0],J=W[1],O=(0,c.useState)(null),Q=(0,i.Z)(O,2),Y=Q[0],K=Q[1],X=(0,c.useState)(!1),G=(0,i.Z)(X,2),$=G[0],ee=G[1],te=(0,c.useState)(!1),ne=(0,i.Z)(te,2),ae=ne[0],re=ne[1],le=(0,c.useState)(!1),pe=(0,i.Z)(le,2),fe=pe[0],_e=pe[1],ve=(0,c.useState)(!1),xe=(0,i.Z)(ve,2),ge=xe[0],ye=xe[1];(0,c.useEffect)((function(){if(t){var e=t.name,n=t.description,a=t.category,r=t.priority,i=t.place,c=t.date,s=t.time,l=t.photo;v(e),b(n),P(c),F(s),L(i),H(a),J(r),K(l)}}),[t]);var je=function(e){switch(e.target.name){case"title":v(e.target.value);break;case"description":b(e.target.value);break;case"location":L(e.target.value);break;case"category":H(e.target.value);break;case"priority":J(e.target.value);break;default:return}},be=function(e){var t=document.getElementById("form").querySelector("#".concat(e)),n=!1;switch(e){case"date":n=$,ee((function(e){return!e})),re(!1),_e(!1),ye(!1);break;case"time":n=ae,re((function(e){return!e})),ee(!1),_e(!1),ye(!1);break;case"category":n=fe,_e((function(e){return!e})),ee(!1),re(!1),ye(!1);break;case"priority":n=ge,ye((function(e){return!e})),ee(!1),re(!1),_e(!1);break;default:return}!function(e,t){t?e.blur():e.focus()}(t,n)},ke=function(e,t){switch(e){case"category":H(t.target.innerText),_e(!1);break;case"priority":J(t.target.innerText),ye(!1);break;default:return}},Ce=function(){var e,n=null;return t&&(n=t.id),{id:null!==(e=n)&&void 0!==e?e:(0,se.x0)(),name:_,description:j,category:q,priority:z.toLowerCase(),place:B,date:E,time:D,photo:null!==Y&&void 0!==Y?Y:"https://i.ibb.co/FhD3YJX/default2.png"}},Ne=function(){var e=document.getElementById("form").querySelectorAll("input:not(:disabled)"),t=Array.from(e).every((function(e){return e.value.trim()}));return console.log(t),!!t||(e.forEach((function(e){e.value.trim()?e.setCustomValidity(""):e.setCustomValidity("This field is required.")})),!1)},Se=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r){var i,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),Ne()){e.next=5;break}return me.Am.error("Please fill out all the required fields!"),e.abrupt("return");case 5:if(i=Ce(),console.log(i),"/create"!==n.pathname){e.next=13;break}return e.next=10,m(o.J.createEvent(i));case 10:return me.Am.success("A new event has been created!"),u("/"),e.abrupt("return");case 13:if(n.pathname!=="/edit/".concat(t.id)){e.next=19;break}return c=t.id,e.next=17,m(o.J.updateEvent({id:c,newEvent:i}));case 17:me.Am.success("The event info has been updated!"),u("/event/".concat(t.id));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,N.jsxs)("form",{className:d,id:"form",onSubmit:Se,children:[(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)(S,{title:_,reset:function(){return v("")},handleInputChange:je}),(0,N.jsx)(w,{description:j,reset:function(){return b("")},handleInputChange:je}),(0,N.jsx)(R,{date:E,handleInputChange:je,showDatePicker:$,toggleMenu:be,handleSaveDate:function(e){var t=(0,he.f)(e);P(t),ee(!1)}}),(0,N.jsx)(ie,{time:D,handleInputChange:je,showTimePicker:ae,toggleMenu:be,saveTime:function(e,t,n){var a="".concat(e,":").concat(t," ").concat(n.toLowerCase());F(a),console.log("Shalala!"),console.log(a)}}),(0,N.jsx)(ce,{place:B,reset:function(){return L("")},handleInputChange:je}),(0,N.jsx)(oe,{category:q,handleInputChange:je,showCategories:fe,toggleMenu:be,handleSelect:ke}),(0,N.jsx)(de,{}),(0,N.jsx)(ue,{priority:z,handleInputChange:je,showPriorities:ge,toggleMenu:be,handleSelect:ke})]}),(0,N.jsx)("button",{type:"submit",className:y,children:"/create"===n.pathname?"Add event":"Save"})]})}},1979:function(e,t,n){n.d(t,{o:function(){return i}});var a="Main_main__QhrKC",r=n(184),i=function(e){var t=e.children;return(0,r.jsx)("main",{className:a,children:t})}},8453:function(e,t,n){n.d(t,{V:function(){return i}});var a="PageTitle_title__8ZgTZ",r=n(184),i=function(e){var t=e.title;return(0,r.jsx)("h2",{className:a,children:t})}},1421:function(e,t,n){n.d(t,{f:function(){return a},h:function(){return r}});var a=function(e){var t=new Date(e),n=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return"".concat(n,"/").concat(a,"/").concat(r)},r=function(e){var t=e.split("/"),n=t[0],a=t[1];return"".concat(n,".").concat(a)}}}]);
//# sourceMappingURL=361.ae9f97b6.chunk.js.map